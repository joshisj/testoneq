{"ast":null,"code":"var _jsxFileName = \"/Users/joshisj/IdeaProjects/oneq-account/prod/src/saRequestForm.js\";\nimport React from 'react';\nimport { Storage } from 'aws-amplify';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Form, Header, Segment } from 'semantic-ui-react';\nimport { API, graphqlOperation } from \"aws-amplify\";\nimport RequestSchema from './saRequestSchema';\nimport * as mutations from './graphql/mutations';\nimport { AutoField, AutoForm, ErrorsField, DateField, RadioField, LongTextField, SubmitField } from 'uniforms-semantic'; // Get the query parameters and default them into the form\n\nlet search = window.location.search;\nlet params = new URLSearchParams(search); // Salesforce account data passed into this script\n\nlet urlAcctLink = params.get('acctlink');\nlet urlAcctName = params.get('acctname');\nlet urlOptLink = params.get('optlink');\nlet urlregion = params.get('region');\nlet urlsubregion = params.get('subregion');\nlet urlterritory = params.get('territory');\nlet urlgeo = params.get('geo');\nlet urlterritorysegment = params.get('territoryseg');\nlet urlbu = params.get('bu');\nconsole.log(urlAcctName);\nconst style = {\n  margin: 100,\n  border: '3px solid orange',\n  padding: '50px',\n  background: 'lightgray'\n};\n\nvar handleAdd = doc => {\n  // generate unique request# and file name for S3\n  var requestID = uuidv4();\n  var s3fileName = 'sa-requests/request-' + requestID + '.json';\n  console.log('Request ID:', requestID);\n  console.log('File Name:', s3fileName);\n  console.log(\"Here is the document\", doc); //api.posts.createPost({ post: post}).then(json => displayMessage(json))\n  // save the form data to S3 cloud Storage\n\n  var addToStorage = () => {\n    Storage.put(s3fileName, doc).then(result => {\n      console.log('result: ', result);\n    }).catch(err => console.log('error: ', err));\n  };\n\n  addToStorage(); //write data to the API using Graphql\n\n  (async () => {\n    const newRequest = await API.graphql(graphqlOperation(mutations.createRequest, {\n      input: doc\n    }));\n  })(); //Alert confirming form submitted\n\n\n  alert(\"Thank you. The form was submitted\");\n};\n\nexport default function RequestForm() {\n  return /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AutoForm, {\n    style: style,\n    schema: RequestSchema,\n    onSubmit: doc => handleAdd(doc),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: style.titleStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, \"SA ACTIVITY REQUEST\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AutoField, {\n    name: \"accountLink\",\n    value: urlAcctLink,\n    placeholder: \"Salesforce link to account\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"accountName\",\n    value: urlAcctName,\n    placeholder: \"Account name as per Salesforce\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"accountOpportunity\",\n    value: urlOptLink,\n    placeholder: \"Salesforce link to opportunity\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityRequester\",\n    placeholder: \"Enter your amazon alias here\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityAM\",\n    placeholder: \"Enter the account manager's alias\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityrequestedSA\",\n    placeholder: \"Is there a specific SA this should be handled by?\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, \"Activity Details\"), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityTitle\",\n    placeholder: \"Briefly describe the activity here e.g. Immersion Day\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityType\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityTopic\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityDomain\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activitySubtopic\",\n    placeholder: \"Specific topic(if any)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(LongTextField, {\n    name: \"activityDetails\",\n    placeholder: \"Enter any relevant details related to the activity here\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityComplexity\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(DateField, {\n    name: \"activityFromDate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(DateField, {\n    name: \"activityToDate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityLocation\",\n    placeholder: \"Enter N/A if the meeting is virtual\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityLanguage\",\n    placeholder: \"Preferred interaction language with customer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(RadioField, {\n    name: \"activityInteractionType\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityWatchers\",\n    placeholder: \"Enter comma-separated alias of people you would like to be CC'ed to the SIM issue ex. abc,xyz\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityRoute\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, \"Details gathered from Salesforce\"), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityRegion\",\n    value: urlregion,\n    placeholder: \"Region as per Salesforce\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activitySubregion\",\n    value: urlsubregion,\n    placeholder: \"Sub-region as per Salesforce\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityTerritory\",\n    value: urlterritory,\n    placeholder: \"Territory as per Salesforce\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityBusinessUnit\",\n    value: urlbu,\n    placeholder: \"Business Unit  as per Salesforce\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityTerritorySegment\",\n    value: urlterritorysegment,\n    placeholder: \"Territory Segment as per Salesforce\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityGeo\",\n    value: urlgeo,\n    placeholder: \"Geo as per Salesforce\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(SubmitField, {\n    value: \"Submit Request\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(ErrorsField, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/joshisj/IdeaProjects/oneq-account/prod/src/saRequestForm.js"],"names":["React","Storage","v4","uuidv4","Form","Header","Segment","API","graphqlOperation","RequestSchema","mutations","AutoField","AutoForm","ErrorsField","DateField","RadioField","LongTextField","SubmitField","search","window","location","params","URLSearchParams","urlAcctLink","get","urlAcctName","urlOptLink","urlregion","urlsubregion","urlterritory","urlgeo","urlterritorysegment","urlbu","console","log","style","margin","border","padding","background","handleAdd","doc","requestID","s3fileName","addToStorage","put","then","result","catch","err","newRequest","graphql","createRequest","input","alert","RequestForm","titleStyle"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Storage } from 'aws-amplify'\nimport { v4 as uuidv4 } from 'uuid';\nimport { Form, Header, Segment } from 'semantic-ui-react';\nimport { API, graphqlOperation } from \"aws-amplify\";\nimport RequestSchema from './saRequestSchema';\nimport * as mutations from './graphql/mutations';\nimport {\n    AutoField,\n    AutoForm,\n    ErrorsField,\n    DateField,\n    RadioField,\n    LongTextField,\n    SubmitField\n} from 'uniforms-semantic';\n\n// Get the query parameters and default them into the form\nlet search = window.location.search;\nlet params = new URLSearchParams(search);\n// Salesforce account data passed into this script\nlet urlAcctLink = params.get('acctlink');\nlet urlAcctName = params.get('acctname');\nlet urlOptLink = params.get('optlink');\nlet urlregion = params.get('region');\nlet urlsubregion = params.get('subregion');\nlet urlterritory = params.get('territory');\nlet urlgeo = params.get('geo');\nlet urlterritorysegment = params.get('territoryseg');\nlet urlbu = params.get('bu');\nconsole.log(urlAcctName);\n\nconst style = {\n    margin: 100,\n    border: '3px solid orange',\n    padding: '50px',\n    background: 'lightgray'\n\n};\n\nvar handleAdd = (doc) => {\n\n    // generate unique request# and file name for S3\n    var requestID = uuidv4();\n    var s3fileName = 'sa-requests/request-' + requestID + '.json'\n    console.log('Request ID:', requestID)\n    console.log('File Name:', s3fileName);\n\n    console.log(\"Here is the document\",doc)\n    //api.posts.createPost({ post: post}).then(json => displayMessage(json))\n\n    // save the form data to S3 cloud Storage\n    var addToStorage = () => {\n        Storage.put(s3fileName, doc)\n            .then (result => {\n                console.log('result: ', result)\n            })\n            .catch(err => console.log('error: ', err));\n    }\n    addToStorage();\n\n    //write data to the API using Graphql\n    (async () => {\n          const newRequest = await API.graphql(graphqlOperation(mutations.createRequest, {input: doc}));\n    })();\n\n\n    //Alert confirming form submitted\n    alert(\"Thank you. The form was submitted\");\n}\n\n\n\n\n\nexport default function RequestForm() {\nreturn (\n        <form>\n            <AutoForm style={style} schema={RequestSchema} onSubmit={doc => handleAdd(doc)}>\n                <h1 style={style.titleStyle}>SA ACTIVITY REQUEST</h1>\n\n                <br></br>\n                <Form.Group widths=\"equal\">\n                    <AutoField name=\"accountLink\" value={urlAcctLink} placeholder=\"Salesforce link to account\"/>\n                    <AutoField name=\"accountName\" value={urlAcctName} placeholder=\"Account name as per Salesforce\"/>\n                    <AutoField name=\"accountOpportunity\" value={urlOptLink} placeholder=\"Salesforce link to opportunity\" />\n                </Form.Group>\n                <Form.Group widths=\"equal\">\n                    <AutoField name=\"activityRequester\" placeholder=\"Enter your amazon alias here\"/>\n                    <AutoField name=\"activityAM\" placeholder=\"Enter the account manager's alias\" />\n                    <AutoField name=\"activityrequestedSA\" placeholder=\"Is there a specific SA this should be handled by?\" />\n                </Form.Group>\n                <h3>Activity Details</h3>\n                <Form.Group widths=\"equal\">\n                    <AutoField name=\"activityTitle\" placeholder=\"Briefly describe the activity here e.g. Immersion Day\"/>\n                    <AutoField name=\"activityType\" />\n                </Form.Group>\n                <Form.Group widths=\"equal\">\n                    <AutoField name=\"activityTopic\" />\n                    <AutoField name=\"activityDomain\" />\n                    <AutoField name=\"activitySubtopic\" placeholder=\"Specific topic(if any)\" />\n                </Form.Group>\n                <LongTextField name=\"activityDetails\" placeholder=\"Enter any relevant details related to the activity here\" />\n                <AutoField name=\"activityComplexity\" />\n                <Form.Group widths=\"equal\">\n                    <DateField name=\"activityFromDate\" />\n                    <DateField name=\"activityToDate\" />\n                </Form.Group>\n                <Form.Group widths={\"equal\"}>\n                    <AutoField name=\"activityLocation\" placeholder=\"Enter N/A if the meeting is virtual\" />\n                    <AutoField name=\"activityLanguage\" placeholder=\"Preferred interaction language with customer\"/>\n                </Form.Group>\n                <RadioField name={\"activityInteractionType\"}/>\n                <AutoField name=\"activityWatchers\" placeholder=\"Enter comma-separated alias of people you would like to be CC'ed to the SIM issue ex. abc,xyz\"/>\n                <AutoField name=\"activityRoute\" />\n                <h3>Details gathered from Salesforce</h3>\n                <Form.Group widths=\"equal\">\n                    <AutoField name=\"activityRegion\" value={urlregion} placeholder=\"Region as per Salesforce\"/>\n                    <AutoField name=\"activitySubregion\" value={urlsubregion} placeholder=\"Sub-region as per Salesforce\" />\n                    <AutoField name=\"activityTerritory\" value={urlterritory} placeholder=\"Territory as per Salesforce\" />\n                </Form.Group>\n                <Form.Group widths=\"equal\">\n                    <AutoField name=\"activityBusinessUnit\" value={urlbu} placeholder=\"Business Unit  as per Salesforce\"/>\n                    <AutoField name=\"activityTerritorySegment\" value={urlterritorysegment} placeholder=\"Territory Segment as per Salesforce\"/>\n                    <AutoField name=\"activityGeo\" value={urlgeo} placeholder=\"Geo as per Salesforce\"/>\n                </Form.Group>\n                <SubmitField value='Submit Request'/>\n                <ErrorsField />\n            </AutoForm>\n        </form>\n    );\n\n}\n"]},"metadata":{},"sourceType":"module"}