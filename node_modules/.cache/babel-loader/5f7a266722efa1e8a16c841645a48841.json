{"ast":null,"code":"var _jsxFileName = \"/Users/joshisj/IdeaProjects/secondary/src/saRequestForm.js\";\nimport React from 'react';\nimport { Storage } from 'aws-amplify';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Form, Header, Segment } from 'semantic-ui-react';\nimport { API, graphqlOperation } from \"aws-amplify\";\nimport RequestSchema from './saRequestSchema';\nimport * as mutations from './graphql/mutations';\nimport { AutoField, AutoForm, ErrorsField, DateField, RadioField, LongTextField, SubmitField } from 'uniforms-semantic'; // Get the query parameters and default them into the form\n\nlet search = window.location.search;\nlet params = new URLSearchParams(search); // Salesforce account data passed into this script\n\nlet urlAcctLink = params.get('acctlink');\nlet urlAcctName = params.get('acctname');\nlet urlOptLink = params.get('optlink');\nlet urlregion = params.get('region');\nlet urlsubregion = params.get('subregion');\nlet urlterritory = params.get('territory');\nlet urlgeo = params.get('geo');\nlet urlterritorysegment = params.get('territoryseg');\nlet urlbu = params.get('bu');\nconsole.log(urlAcctName);\nconst style = {\n  \"margin-left\": 100,\n  \"margin-right\": 100,\n  \"margin-bottom\": 50,\n  border: '3px solid orange',\n  padding: '20px',\n  background: '#DCDCDC',\n  titleStyle: {\n    fontFamily: 'sans-Serif',\n    \"text-align\": \"center\",\n    \"padding-top\": '50px',\n    \"font-size\": '45px',\n    color: \"gray\"\n  },\n  button: {\n    background: 'orange',\n    \"padding\": '15px 32px'\n  },\n  contact: {\n    \"text-align\": \"center\"\n  }\n};\n\nvar handleAdd = doc => {\n  // generate unique request# and file name for S3\n  var requestID = uuidv4();\n  var s3fileName = 'sa-requests/request-' + requestID + '.json';\n  console.log('Request ID:', requestID);\n  console.log('File Name:', s3fileName);\n  console.log(\"Here is the document\", doc); //api.posts.createPost({ post: post}).then(json => displayMessage(json))\n  // save the form data to S3 cloud Storage\n\n  var addToStorage = () => {\n    Storage.put(s3fileName, doc).then(result => {\n      console.log('result: ', result);\n    }).catch(err => console.log('error: ', err));\n  };\n\n  addToStorage(); //Create activitytitle from topic and type\n\n  var type = doc.activityType;\n  var topic = doc.activityTopic;\n  var name = doc.accountName;\n  var title = type.concat(\" - \", topic, \" - \", name);\n  doc.activityTitle = title; //write data to the API using Graphql\n\n  (async () => {\n    const newRequest = await API.graphql(graphqlOperation(mutations.createRequest, {\n      input: doc\n    }));\n  })(); //Alert confirming form submitted\n  //alert(\"Thank you. The form was submitted\");\n  //reloadpage();\n\n};\n\nfunction reloadpage() {\n  var returnURL = \"success.html\"; //    window.close();\n\n  setTimeout(function () {\n    window.location = returnURL;\n  }, 1500);\n}\n\nexport default function RequestForm() {\n  return /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: style.titleStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, \"Solutions Architect Activity Request\"), /*#__PURE__*/React.createElement(AutoForm, {\n    style: style,\n    schema: RequestSchema,\n    onSubmit: doc => handleAdd(doc),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AutoField, {\n    name: \"accountLink\",\n    value: urlAcctLink,\n    placeholder: \"Salesforce link to account\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"accountName\",\n    value: urlAcctName,\n    placeholder: \"Account name as per Salesforce\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"accountOpportunity\",\n    value: urlOptLink,\n    placeholder: \"Salesforce link to opportunity. N/A for none.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityRequester\",\n    placeholder: \"Enter your amazon alias here\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityAM\",\n    placeholder: \"Enter the account manager's alias\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityrequestedSA\",\n    placeholder: \"Is there a specific SA this should be handled by?\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, \"Activity Details\"), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityType\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityTopic\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityDomain\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activitySubtopic\",\n    placeholder: \"Specific topic(if any)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(LongTextField, {\n    name: \"activityDetails\",\n    placeholder: \"Enter any relevant details related to the activity here\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityComplexity\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(DateField, {\n    name: \"activityFromDate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(DateField, {\n    name: \"activityToDate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityLocation\",\n    placeholder: \"Enter N/A if the meeting is virtual\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityLanguage\",\n    placeholder: \"Preferred interaction language with customer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(RadioField, {\n    name: \"activityInteractionType\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityWatchers\",\n    placeholder: \"Enter comma-separated alias of people you would like to be CC'ed to the SIM issue ex. abc,xyz\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityRoute\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }, \"SFDC Details (Do not edit)\"), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityRegion\",\n    value: urlregion,\n    placeholder: \"Region as per Salesforce\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activitySubregion\",\n    value: urlsubregion,\n    placeholder: \"Sub-region as per Salesforce\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityTerritory\",\n    value: urlterritory,\n    placeholder: \"Territory as per Salesforce\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityBusinessUnit\",\n    value: urlbu,\n    placeholder: \"Business Unit  as per Salesforce\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityTerritorySegment\",\n    value: urlterritorysegment,\n    placeholder: \"Territory Segment as per Salesforce\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(AutoField, {\n    name: \"activityGeo\",\n    value: urlgeo,\n    placeholder: \"Geo as per Salesforce\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(SubmitField, {\n    style: style.button,\n    value: \"Submit Request\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(ErrorsField, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    style: style.contact,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 38\n    }\n  }, \"Any Issues?\"), \" \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://issues.amazon.com/issues/create?assignedFolder=4e51feb9-2c19-44b6-ab43-518c89a4fe48\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 67\n    }\n  }, \"Contact Us\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/joshisj/IdeaProjects/secondary/src/saRequestForm.js"],"names":["React","Storage","v4","uuidv4","Form","Header","Segment","API","graphqlOperation","RequestSchema","mutations","AutoField","AutoForm","ErrorsField","DateField","RadioField","LongTextField","SubmitField","search","window","location","params","URLSearchParams","urlAcctLink","get","urlAcctName","urlOptLink","urlregion","urlsubregion","urlterritory","urlgeo","urlterritorysegment","urlbu","console","log","style","border","padding","background","titleStyle","fontFamily","color","button","contact","handleAdd","doc","requestID","s3fileName","addToStorage","put","then","result","catch","err","type","activityType","topic","activityTopic","name","accountName","title","concat","activityTitle","newRequest","graphql","createRequest","input","reloadpage","returnURL","setTimeout","RequestForm"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Storage } from 'aws-amplify'\nimport { v4 as uuidv4 } from 'uuid';\nimport { Form, Header, Segment } from 'semantic-ui-react';\nimport { API, graphqlOperation } from \"aws-amplify\";\nimport RequestSchema from './saRequestSchema';\nimport * as mutations from './graphql/mutations';\nimport {\n    AutoField,\n    AutoForm,\n    ErrorsField,\n    DateField,\n    RadioField,\n    LongTextField,\n    SubmitField\n} from 'uniforms-semantic';\n\n// Get the query parameters and default them into the form\nlet search = window.location.search;\nlet params = new URLSearchParams(search);\n// Salesforce account data passed into this script\nlet urlAcctLink = params.get('acctlink');\nlet urlAcctName = params.get('acctname');\nlet urlOptLink = params.get('optlink');\nlet urlregion = params.get('region');\nlet urlsubregion = params.get('subregion');\nlet urlterritory = params.get('territory');\nlet urlgeo = params.get('geo');\nlet urlterritorysegment = params.get('territoryseg');\nlet urlbu = params.get('bu');\nconsole.log(urlAcctName);\n\nconst style = {\n    \"margin-left\": 100,\n    \"margin-right\": 100,\n    \"margin-bottom\": 50,\n    border: '3px solid orange',\n    padding: '20px',\n    background: '#DCDCDC',\n    titleStyle: {\n        fontFamily: 'sans-Serif',\n        \"text-align\": \"center\",\n        \"padding-top\":'50px',\n        \"font-size\": '45px',\n        color: \"gray\"\n    },\n        button:{\n        background: 'orange',\n        \"padding\": '15px 32px',\n    },\n    contact:{\n        \"text-align\": \"center\"\n    }\n};\n\nvar handleAdd = (doc) => {\n\n    // generate unique request# and file name for S3\n    var requestID = uuidv4();\n    var s3fileName = 'sa-requests/request-' + requestID + '.json'\n    console.log('Request ID:', requestID)\n    console.log('File Name:', s3fileName);\n\n    console.log(\"Here is the document\",doc)\n    //api.posts.createPost({ post: post}).then(json => displayMessage(json))\n\n    // save the form data to S3 cloud Storage\n    var addToStorage = () => {\n        Storage.put(s3fileName, doc)\n            .then (result => {\n                console.log('result: ', result)\n            })\n            .catch(err => console.log('error: ', err));\n    }\n    addToStorage();\n\n    //Create activitytitle from topic and type\n    var type=doc.activityType;\n    var topic=doc.activityTopic;\n    var name=doc.accountName\n    var title=type.concat(\" - \", topic, \" - \",name);\n    doc.activityTitle=title;\n    \n    //write data to the API using Graphql\n    (async () => {\n          const newRequest = await API.graphql(graphqlOperation(mutations.createRequest, {input: doc}));\n    })();\n\n\n    //Alert confirming form submitted\n    //alert(\"Thank you. The form was submitted\");\n    //reloadpage();\n}\n\nfunction reloadpage(){\n    var returnURL = \"success.html\";\n//    window.close();\n    setTimeout(function()\n    {\n        window.location=returnURL;\n    }, 1500 );\n}\n\nexport default function RequestForm() {\nreturn (\n        <form>\n            <h1 style={style.titleStyle}>Solutions Architect Activity Request</h1>\n            <AutoForm style={style} schema={RequestSchema} onSubmit={doc => handleAdd(doc)}>\n                <br></br>\n                <Form.Group widths=\"equal\">\n                    <AutoField name=\"accountLink\" value={urlAcctLink} placeholder=\"Salesforce link to account\"/>\n                    <AutoField name=\"accountName\" value={urlAcctName} placeholder=\"Account name as per Salesforce\"/>\n                    <AutoField name=\"accountOpportunity\" value={urlOptLink} placeholder=\"Salesforce link to opportunity. N/A for none.\" />\n                </Form.Group>\n                <Form.Group widths=\"equal\">\n                    <AutoField name=\"activityRequester\" placeholder=\"Enter your amazon alias here\"/>\n                    <AutoField name=\"activityAM\" placeholder=\"Enter the account manager's alias\" />\n                    <AutoField name=\"activityrequestedSA\" placeholder=\"Is there a specific SA this should be handled by?\" />\n                </Form.Group>\n                <h3>Activity Details</h3>\n                <Form.Group widths=\"equal\">\n                    <AutoField name=\"activityType\" />\n                    <AutoField name=\"activityTopic\"/>\n                </Form.Group>\n                <Form.Group widths=\"equal\">\n                    <AutoField name=\"activityDomain\" />\n                    <AutoField name=\"activitySubtopic\" placeholder=\"Specific topic(if any)\" />\n                </Form.Group>\n                <LongTextField name=\"activityDetails\" placeholder=\"Enter any relevant details related to the activity here\" />\n                <AutoField name=\"activityComplexity\" />\n                <Form.Group widths=\"equal\">\n                    <DateField name=\"activityFromDate\" />\n                    <DateField name=\"activityToDate\" />\n                </Form.Group>\n                <Form.Group widths={\"equal\"}>\n                    <AutoField name=\"activityLocation\" placeholder=\"Enter N/A if the meeting is virtual\" />\n                    <AutoField name=\"activityLanguage\" placeholder=\"Preferred interaction language with customer\"/>\n                </Form.Group>\n                <RadioField name={\"activityInteractionType\"}/>\n                <AutoField name=\"activityWatchers\" placeholder=\"Enter comma-separated alias of people you would like to be CC'ed to the SIM issue ex. abc,xyz\"/>\n                <AutoField name=\"activityRoute\" />\n                <h3>SFDC Details (Do not edit)</h3>\n                <Form.Group widths=\"equal\">\n                    <AutoField name=\"activityRegion\" value={urlregion} placeholder=\"Region as per Salesforce\"/>\n                    <AutoField name=\"activitySubregion\" value={urlsubregion} placeholder=\"Sub-region as per Salesforce\" />\n                    <AutoField name=\"activityTerritory\" value={urlterritory} placeholder=\"Territory as per Salesforce\" />\n                </Form.Group>\n                <Form.Group widths=\"equal\">\n                    <AutoField name=\"activityBusinessUnit\" value={urlbu} placeholder=\"Business Unit  as per Salesforce\"/>\n                    <AutoField name=\"activityTerritorySegment\" value={urlterritorysegment} placeholder=\"Territory Segment as per Salesforce\"/>\n                    <AutoField name=\"activityGeo\" value={urlgeo} placeholder=\"Geo as per Salesforce\"/>\n                </Form.Group>\n                <br></br>\n                <SubmitField style={style.button} value='Submit Request'/>\n                <ErrorsField />\n            </AutoForm>\n            <p style={style.contact}><strong>Any Issues?</strong> <a href=\"https://issues.amazon.com/issues/create?assignedFolder=4e51feb9-2c19-44b6-ab43-518c89a4fe48\">Contact Us</a></p>\n            <p></p>    \n        </form>\n    );\n\n}\n"]},"metadata":{},"sourceType":"module"}